{% extends 'base.html' %}
{% block content %}

<div class="container">
    <h1>{{ profile_user.username }}'s Profile</h1>

    <!-- Posts section -->
    <h2>Published Posts</h2>
    {% if published_posts %}
    <ul>
        {% for post in published_posts %}
        <li>
            <h3>{{ post.title }}</h3>
            <p>{{ post.content }}</p>
            <p><small>Created on: {{ post.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No published posts yet.</p>
    {% endif %}

    <h2>Unpublished Posts</h2>
    {% if unpublished_posts %}
    <ul>
        {% for post in unpublished_posts %}
        <li>
            <h3>{{ post.title }}</h3>
            <p><small>Created on: {{ post.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No unpublished posts yet.</p>
    {% endif %}

    <!-- Comments section -->
    <h2>Approved Comments</h2>
    {% if published_comments %}
    <ul>
        {% for comment in published_comments %}
        <li>
            <p>{{ comment.body }}</p>
            <p><small>Created on: {{ comment.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No approved comments yet.</p>
    {% endif %}

    <h2>Comments Awaiting Approval</h2>
    {% if unpublished_comments %}
    <ul>
        {% for comment in unpublished_comments %}
        <li>
            <h3>{{ comment.title }}</h3>
            <p>{{ comment.body }}</p>
            <p><small>Created on: {{ comment.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No comments awaiting approval.</p>
    {% endif %}

    <!-- Reviews section -->
    <h2>Approved Reviews</h2>
    {% if published_review %}
    <ul>
        {% for review in published_review %}
        <li>
            <h3>{{ review.title }}</h3>
            <p>{{ review.body }}</p>
            <p><small>Created on: {{ review.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No approved reviews yet.</p>
    {% endif %}

    <h2>Reviews Awaiting Approval</h2>
    {% if unpublished_review %}
    <ul>
        {% for review in unpublished_review %}
        <li>
            <h3>{{ review.title }}</h3>
            <p>{{ review.body }}</p>
            <p><small>Created on: {{ review.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No reviews awaiting approval.</p>
    {% endif %}

    <h2>Likes on Posts</h2>
    {% if likes %}
    <ul>
        {% for like in likes %}
        <li>
            <p>Liked post: {{ like.post.title }}</p>
            <p><small>Liked on: {{ like.created_on }}</small></p>
        </li>
        {% endfor %}
    </ul>
    {% else %}
    <p>No likes yet.</p>
    {% endif %}
</div>
{% endblock %}